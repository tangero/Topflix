name = "topflix-api"
main = "workers/api.js"
compatibility_date = "2024-01-01"

# KV namespace for storing Netflix Top 10 data
kv_namespaces = [
  { binding = "TOPFLIX_KV", id = "your-kv-namespace-id", preview_id = "your-preview-kv-namespace-id" }
]

# Environment variables
[vars]
TMDB_API_KEY = "your-tmdb-api-key-here"

# Cron trigger for weekly updates (every Tuesday at 10:00 UTC)
[triggers]
crons = ["0 10 * * 2"]

# CORS settings
[env.production]
routes = [
  { pattern = "topflix.example.com/api/*", zone_name = "example.com" }
]
